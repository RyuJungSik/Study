# HTTPS와 TLS 암호화

### 대칭 암호화

- 대칭 암호화는 키를 하나만 사용하는 암호화 방법이다.
- 일반적으로 사용되는 대칭 암호화 알고리즘은 DES, AES가 있다.

### 비대칭 암호화

- 비대칭 암호화는 공개키 암호화라고도 한다.
- 공개키 암호화는 공개키, 개인키로 데이터를 암호화하고 키 중 하나인 공개키를 누구나 사용할 수 있도록 하는 방법이다.
- 공개키로 암호화된 데이터는 개인키로만 복호화할 수 있게한다.
- 일반적으로 RSA, DH가 있다.

### SSL, TLS

- SSL은 버전이 올라가면서 TLS로 명칭이 변경되었다.
- TLS는  전송 계층에서 보안을 제공하는 프로토콜이다.

### TLS 순서

- Client Hello
    - 클라이언트는 TLS버전, 사이퍼슈트와 클라이언트 랜덤값, 임시 DH매개변수를 서버에게 보낸다.
- Server Hello, EncryptedExtensions, Certificate, CertificateVerify
    - 서버는 클라이언트로부터 받은 옵션을 확인한다.
    - TLS버전 확인과 사이퍼슈트 지원 여부를 확인한다.
    - 공개키가 포함된 SSL인증서, 임시 DH 매개변수를 보낸다.
    - 클라이언트와 서버 각각 서로 교환한 DH 매개변수를 사용하여 임시 암호키를 생성한다.
- Finished
    - 클라이언트와 서버와 세션키를 기반으로 대칭 암호화된 통신이 시작된다.

### 키교환 알고리즘 DH 매개변수

- DH 매개변수는 알고리즘은 서로 공개값 공유, 비밀값과 혼합, 혼합값과 공유,
- 각자 비밀값과 혼합해서 공통의 암호키를 만드는 알고리즘이다.

### 사이퍼 슈트

- 사이퍼슈트는 프로토콜, AEAD 사이퍼모드, 해싱 알고리즘이 나열된 규약이다.
- 예로 TLS_AES_128_GCM_SHA256이 있다.

### 인증서

- 인증서는 주체, 공개키를 포함하는 단순한 데이터 파일이다.
- 인증기관인 CA에서 발급한 SSL인증서를 기반으로 인증작업을 수행한다.
- 주체는 클라이언트가 접속한 서버가 클라이언트가 의도한 서버가 맞는지 확인할 때 쓰이고,
- 공개키는 처음 인증작업을 수행할 때쓰인다.

### CA

- 인증서의 역할은 클라이언트가 접속한 서버가 클라이언트가 의도한 서버가 맞는지를 보장하는 역할을 한다.
- 인증서를 발급하는 기업들을 CA라고 한다.

### RSA의 취약점

- RSA는 클라이언트가 생성한 임시 암호값을 서버로 전송한다.
- RSA는 클라이언트에서 생성한 임시 암호값이 탈취당한 경우 해킹의 위험이 있다.
