# 브라우저 렌더링과정

### 브라우저 구성

![image](https://user-images.githubusercontent.com/76714485/232277038-41e4246f-609e-4812-8734-f04ed9d6571a.png)

- 브라우저는 브라우저엔진, 렌더링엔진, 네트워크통신부, 자바스크립트 해석기, UI백엔드, 자료저장소로 이루어져 있다.
- 이중 렌더링엔지이 브라우저 렌더링을 주관하며 DOM트리, CSS파서 등을 기반으로 렌더트리를 구축해 결과적으로 화면을 구축한다.

### DOM트리 구축

- HTML파서에 의해 구문분석된다.
- 요소 하나하나가 노드로 설정되어 트리 형태로 저장되는데 이를 DOM이라고 한다.

### CSSOM 트리 구축

- 각 노드에 CSS 파서에 의해 정해진 스타일 규칙이 적용되어 있다.
- 이런 노드들로 CSSOM이라는 트리가 만들어진다.
- 이 과정은 DOM트리 구축과 동시에 일어난다.

### 렌더트리, 렌더레이어 생

- DOM트리와 CSSOM트리가 합쳐져 렌더객체가 생성된다.
- 그리고 렌더객체가 모여 병렬적인 렌더트리가 생성된다.
- 이때 display : none이 포함된 노드는 지워진다.
- 이후 최적화를 거쳐 렌더레이어가 생성된다.

### 렌더레이어 layout 및 paint

- 이후 생성된 렌더레이어를 통해 좌표는 부모 기준으로 설정된다.
- 그후 렌더레이어를 통해 칠하기를 한다.

### 렌더트리와 DOM 트리는 1:1대응인가?

- 아니다.
- DOM→렌더객체→렌더트리 되는 과정에서 dispaly:none 으로 사라지는 렌더 객체들이 있을 수 있기에
- 1:1대응은 아니다.
