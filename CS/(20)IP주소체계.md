# IP주소체계

### IPv4란?

- 32비트이며 2^32개의 주소를 표현가능하다.
- 8비트 단위로 점을 찍어 4개로 구분되어 있다.
- NAT, 서브네팅 여러개의 부수적인 기술이 필요하다.

### IPv6란?

- 128비트이며 2^128개의 주소를 표현이 가능하다.
- 16비트씩 8개로 구분한다.
- 데이터 패킷을 암호화 하는 IPSec가 내장되어 있다.

### CRC

- CRC는 순환중복검사로 네트워크상에서 데이터에 오류가 있는지 확인하기 위한 체크값을 결정하는 방식이다.
- 데이터를 전송하기전에 주어진 데이터의 값에 따라 CRC 값을 계산하여 데이터에 붙여 전송하고,
- 데이터 전송이 끝난 후 받은 데이터 값으로 다시 CRC값을 계산하게 된다.
- 이 후 두 값을 비교하고, 이 두값이 다르면 데이터 전송 과정에서 잡음 등에 의해 오류가 덧붙여 전송된 것임을 알 수 있다.

### IPv4  VS  IPv6

- IPv6 는 많은 주소를 표현할 수 있다.
- IPv6는 불필요한 헤더가 삭제되어서 빠르고 IPsec가 포함되어 보안적인 측면에서 좋다.
- 보통은 IPv6가 IPv4보다 빠르지만 일부에선 느릴 수도 있다.

### 클래스풀

- 클래스풀은 네트워크 주소를 매기고 그에 따라 네트워크 크기를 다르게 구분하여 클래스를 할당하는 주소 체계이다.
- 구분하는 기준자를 서브넷마스크라고 한다.
- **class A :**
    - 네트워크 주소범위 → 1 ~ 126로 시작한다.
- **class B :**
    - 네트워크 주소범위 → 128 ~ 191로 시작한다.
- **class C :**
    - 네트워크 주소 범위 → 192 ~ 223로 시작한다.
- 맨 앞자리에는 네트워크 주소로 남겨두며, 마지막 주소는 브로드캐스팅 주소로 남겨놓는다.
- **문제점**
    - 네트워크의 크기가 작은 경우 큰 네트워크를 필요로 하는 조직은 여러개를 확보해야하는 어려움이 있다.
    - 작은 네트워크가 필요한 조직의 경우 너무 많은 IP를 가져가므로 IP가 낭비된다.

### 클래스리스

- 클래스풀의 단점을 해결하기위해 클래스리스가 나왔다.
- 클래스로 나누는 것이 아닌 서브넷마스크를 중심으로 어디까지가 네트워크 주소이고, 어디까지가 호스트주소인지를 나눈다.

### 서브넷마스크

```
                    8비트      8비트       8비트       8비트
    A 클래스    ->  네트워크  .   호스트  .   호스트   .   호스트
기본 서브넷 마스크 ->   255   .     0    .     0    .     0
                 11111111 . 00000000 . 00000000 . 00000000    

B 클래스    ->  네트워크  .  네트워크  .   호스트   .   호스트
기본 서브넷 마스크 ->   255   .    255   .     0    .     0
                 11111111 . 11111111 . 00000000 . 00000000    

C 클래스    ->  네트워크  .  네트워크  .   네트워크  .  호스트
기본 서브넷 마스크 ->   255   .    255   .     255   .    0
                 11111111 . 11111111 . 11111111 . 00000000
```

- 서브넷마스크는 IP주소와 네트워크 주소를 구분할 떄 사용한다.
- 2진수 숫자1은 네트워크 주소, 0은 호스트주소로 표시한다.

### NAT

- IP는 공인과 사설로 나누고 중간에 NAT라는 기술을 통해 해결한다.
- NAT는 패킷이 트래픽 라우팅 장치를 통해 전송되는 동안 패킷의 IP주소를 변경하고, IP주소를 다른 IP주소로 매핑하는 방법이다.
- NAT를 통해 내부 네트워크 IP가 노출되지 않는다는 점이 장점이다.
- 주로 일상생활에선 공유기처럼 하나의 인터넷 회선으로 wifi를 만들 수 있다.
