# 7. 연산자

- 연산자는 표현식을 대상으로 산술, 논리,타입,지수 연산 등을 수행해 **하나의 값을** 만든다.
- 연산의 대상 → 피연산자
- 피연산자 → 표현식이다.
- 피연산자 + 연산자 → 표현식 → 값으로 평가될 수 있는 표현식이다.

```jsx
//산술 연산자
5*4
//문자열 연결 연산지
'hi'+'Jisu'
//할당 연산자
color='white'
//비교 연산자
3 > 5
//논리 연산자
true && false
//타입 연산자
typeof 'Hi'
```

## 1. 산술 연산자

- 산술 연사자는 피연산자를 대상으로 수학적 계산을 수행해 숫자값을 만든다.
- 산술 연산이 불가능한 경우 NaN
- 피연산자의 개수에 따라 **이항 산술 연산자**, **단항 산술 연산자**로 구분가능하다.

### 1.1 이항 산술 연산자

- 이항 산술 연산자는 2개의 피연사자를 산술 연산하여 숫자 값을 만든다.
- 이항 산술 연산자는 → 부수 효과가 없다.
- 부수효과 → 피연산자의 값을 변경하는 것.
- 이항 산술 연산자 → +, -, *, /, %

### 1.2 단항 산술 연산자'

- 단항 산술 연산자 → 1개의 피연산자를 산술 연산하여 숫자 값을 만든다.
- ++ → 증가, 부수 효과 O
- — →감소, 부수 효과 O
- + → 어떠한 효과도 없다.(음수를 양수로 바꾸지도 못한다.) 부수 효과 X
- - → 양수를 음수로, 음수를 양수로 반전한 값을 반환한다. 부수 효과 X
- **++, — 연산은 부수 효과가 있다.**
- **++, — 는 위치에 따라 의미가 있다.**
    - 피연산자 앞에 위치한 전위증가/감소 연산자는 먼저 피연산자의 값을 증/감 시킨후 다른연산을 수행한다.
    - 피연산자 뒤에 위치한 전위증가/감소 연산자는 먼저 다른 연산을 수행후, 값을 증/감 시킨다.
- 숫자 타입이 아닌 피연산자에 + 단항연산자를 사용하면 피연산자를 숫자 타입으로 변환한다.

```jsx
let x='1'

//문자열을 숫자로 타입 변환한다.
console.log(+x) //1

//불리언 값을 숫자로 타입 변환한다.
x=true;
console.log(+x) //1
x=false
console.log(+x) //0

//문자열을 숫자로 타입 변환 못하는 경우는 NaN이다.
console.log(+x) //NaN
```

- - 연산자는 부호 반전, 숫자아닌 타입은 숫자 타입으로 변환

```jsx
//부호를 반전한다.
-(-10) // 10

// 문자열을 숫자로 타입 변환한다.
-'10' // -10

//불리언 값을 숫자로 타입 변환한다.
-true // -1

//문자열을 숫자로 타입 변환 못하는 경우는 NaN이다.
-'Hello' //NaN
```

### 1.3 문자열 연결 연산자

- **+ 연산자는 피연산자 중 하나 이상이 문자열인 경우 문자열 연결 연산자로 동작한다.**

```jsx
//문자열 + 숫자 -> 문자열
'1'+2 //'12'

//true 는 1로 타입 변환된다.
1+true // 2

//false는 0으로 타입 변환된다.
1 + false // 1

//null은 0으로 타입 변환된다.
1 + null // 1

//undefined는 숫자로 타입 변환되지 않는다.
+undefined //NaN
1 + undefined //NaN
```

## 2. 할당 연산자

- =, +=, -=, *=, /=, %=   → 부수 효과 O
- 표현식 → 값으로 평가될 수 있는 문이다.(문은 표현식인 문과 표현식이 아닌 문이 잇다.)
- 할당문은 표현식이다.

```jsx
var x

//할당문은 표현식인 문이다.
console.log(x=10) //10
```

- **할당문 → 표현식인 문으로서 할당된 값으로 평가된다.**

```jsx
var a, b, c

a=b=c=0
console.log(a, b, c) //0 0 0
```

## 3. 비교 연산자

- 비교 연산자는 좌항과 우항의 비교후 그 값을 불리언 값으로 반환한다.

### 3.1 동등 / 일치 비교 연산자

- ==,===,≠,≠= 모두 부수 효과는 없다.
- == → 동등비교 → x와 y의 값이 같음
- === → 일치 비교 → x===y → x와 y의 값과 타입이 같음
- ! = → 부동등 비교 → x≠y → x와 y의 값이 다름
- ! == → 불일치 비교 → x≠=y → x와 y의 값과 타입이 다름
- **동등비교(==)연산자는 좌항과 우항의 피연산자를 비교할 때 암묵적 타입 변환을 통해 타입을 일치시킨 후 , 같은 값인지 비교한다.**

```jsx
//동등 비교
5==5 //true

//타입은 다르지만 암묵적 타입 변환을 통해 타입을 일치시면 동등하다.
5=='5' //true
```

- 동긍비교는 편리하지만 결과 예측이 어렵고 실수 하기 쉽다.

```jsx
'0'=='' //false
0=='' //true
0=='0' //true
false=='false'//false
false=='0' //true
false==null //false
false==undefined //false
```

- **일치비교(===)연산자는 좌항과 우항의 피연산자가 타입도 같고 값도 같은 경우에 한하여 true를 반환한다. (암묵적 타입 변환을 하지 않는다.)**

```jsx
//일치 비교
5===5 //ture

//암묵적 타입 변환을 하지 않는다.
5==='5' //false

//NaN은 자신과 일치하지 않는 유일한 값이다.
NaN===NaN
```

- NaN은 Number.isNaN을 이용하여서 판별가능하다.

```jsx
Number.isNaN(NaN) //true
Number.isNaN(10) //false
Number.isNaN(1+undefined) //true
```

- 숫자 0에는 양의 0과 음의 0이 있고, 이들을 비교하면 true을 반환한다.

```jsx
0===-0 //true
0==-0 //true
```

- Object.is메서드는 좀더 정환한 값을 반환한다.

```jsx
-0==+0 //true
Object.is(-0,+0) //false

NaN===NaN //false
Object.is(NaN,NaN) //true
```

- 부동등 비교 연산자(≠), 불일치 비교연산자(≠=)

```jsx
//부동등 비교
5!=8 //true
5!=5//false
5!='5'//false

//불일치비교
5!==8 //true
5!==5//false
5!=='5'//true
```

### 3.2 대소 관계 비교 연산자

- >, <, >=, <=이고 부수효과는 없다.

## 4. 삼항 조건 연산자

- 삼항 조건 연산자는 조건식의 평가 결과에 따라 반환할 값을 결정한다. 부수효과는 없다.
- 삼항 조건 연산자는 두 번째 피연산자 또는 세 번째 피연산자로 평가되는 표현식이다.
- ? 이전 값은 불리언 타입으로 평가될 표현식이다.

```jsx
var x=2

//2%2 는 0 이고 0은 false로 암묵적 타입 변환된다.
var result=x%2 ? '홀' : '짝' //x는 짝
```

- if..else..도 삼항연산자와 유사하게 처리가능하다.
- 하지만 삼항 조건 연산자 표현식은 값처럼 사용가능하다.
- if else문은 값처럼 사용할 수 없다.

```jsx
var x=10
var result=if(x%2) {resule='홀'} else {resule='짝수'}
```

- **삼항 조건 연산자 표현식은 값으로 평가할 수 있는 표현식인 문이다.**

```jsx
var x=10
var result=(x%2) ? '홀' : '짝' //result 는 짝
```

## 5. 논리 연산자

- ||, &&, ! 의 논리 연산자는 논리 연산한다.

```jsx
//논리합 || 연산자
true || false //true

//논리곱 && 연산자
true && true //true
true && false // false

//논리 부정(!) 연산자
!true // false
!false // true
```

- 논리 부정(!)연산자는 언제나 불리언 값을 반환한다.
- 피연산자가 불리언 값이 아니면 불리언 타입으로 암묵적 타입 변환한다.

```jsx
//암묵적 타입 변환
!0 //true
!'Hello' //false
```

- **논리합(||), 논리곱(&&) 연산자 표현식은 언제나 2개의 피연산자 중 어는 한쪽으로 평가된다.**

```jsx
//단축 평가
'Cat' && 'Dog' // 'Dog'
```

## 6. 쉼표 연산자

```jsx
var x, y, z
x=1, y=2, z=3 //3
```

## 7. 그룹 연산자

- 소괄호 ()를 이용하여서 우선순위를 조절 가능하다. 우선순위 가장 높다.

```jsx
10*(2+3) //50
```

## 8. typeof 연산자

- typeof 연산자는 피연산자의 데이터 타입을 문자열로 반환한다.
- typeof 는 7개중 하나의 문자열을 반환한다.
    - "string"
    - "number"
    - "boolean"
    - "undefined"
    - "symbol"
    - "object"
    - "function"

```jsx
typeof '' // "string"
typeof 1 // "number"
typeof NaN //"number"
typeof true //"boolean"
typeof undefined //"undefined"
typeof Symbol() //"symbol"
typeof null //"object"
typeof [] //"object"
typeof {} //"object"
typeof new Date() //"object"
typeof /test/gi //"objcet"
typeof function() {} //"function"
```

- typeof null은 "object"인데 자바스크립트의 버그이기도 하다.
- 따라서 null은 (===)을 사용해서 확인한다

```jsx
var foo=null

typeof foo===null //false
foo===null //true
```

- 선언하지 않은 식별자를 typeof연산자로 연산하면 undefined를 반환한다.

## 9. 지수 연산자

- 지수 연산자(**)는 좌항의 피연산자를 밑으로 우항의 피연산자는 지수로 거듭제곱하여 숫자 값을 반환한다.

```jsx
 2** 2 //4
2 ** 2.5 //5.65685424949238
```

- 지수 연산 순서는 우항에서 좌항이다.
- (**)도입전에는 Math.pow를 사용했다.
- 음수를 제곱할 때는 괄호로 묶어야 한다.

```jsx
-5**2 //Error
(-5)**2 //25
```

- 할당연산자로 사용가능하고, 이항 연산자중 우선순위가 가장높다.

```jsx
var num=5
num **=2 //25

2*5**2 //50
```

## 10. 그 외의 연산자

- ?. → 옵셔널 체이닝 연산자
- ?? → null 병합 연산자
- delete → 프로퍼티 삭제
- new → 생성자 함수를 호출할 때 사용하여 인스턴스를 생성
- instanceof → 좌변의 객체가 우변의 생성자 함수와 연결된 인스턴스인지 판별
- in → 프로퍼티 존재 확인

## 11. 연산자의 부수 효과

- 부수 효과가 있는 연산자는 할당연산자, 증감 연산자, delete 연산자가 있다.

```jsx
var x;

//할당 연산자는 부수 효과가 있다.
x=1
console.log(x)//1

//증감 연산자는 부수효과가 있다.
x++
console.log(x) //2

var o={a:1}
//delete 연산자는 객체의 프로퍼티를 삭제하는 부수 효과가 있다.
delete o.a
console.log(o) //{}
```

## 12. 연산자 우선 순위

- ()
- new (), 함수호출, 옵셔널 체이닝
- x++, x—
- !x, +x, -x, ++x, typeof, delete
- **
- *,/,%,+,-
- 크기비교연산, in, instanceof
- 일치비교
- null 병합 연산자
- &&, ||, 삼항연산자
- 할당 연산자
- ,

## 13. 연산자 결합 순서

- 좌항 → 우항
    - +, -, /, %, <, <=, >, >=, &&, ||, ., [], (), ??, ?., in, instanceof
- 우항 → 좌항
    - ++, --, 할당 연산자(=, +=, -=, …), !x, +x, -x, ++x, –x, typeof, delete, ? … : …, **
